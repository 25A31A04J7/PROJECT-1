#include <stdio.h>
#include <string.h>

struct Student {
    char name[50];
    char aadhar[20];  // dummy number
    char apaar[20];
    char email[50];
    char phone[20];
};

struct Student students[100];
int count = 0;

void addStudent() {
    printf("\nEnter Name: ");
    scanf(" %[^\n]", students[count].name);

    printf("Enter Aadhar Number (dummy): ");
    scanf(" %[^\n]", students[count].aadhar);

    printf("Enter APAAR ID: ");
    scanf(" %[^\n]", students[count].apaar);

    printf("Enter Email: ");
    scanf(" %[^\n]", students[count].email);

    printf("Enter Phone: ");
    scanf(" %[^\n]", students[count].phone);

    count++;
    printf("\nStudent Added Successfully!\n");
}

void displayStudents() {
    printf("\n--- Student Records ---\n");
    for (int i = 0; i < count; i++) {
        printf("\nStudent %d:\n", i + 1);
        printf("Name   : %s\n", students[i].name);
        printf("Aadhar : %s\n", students[i].aadhar);
        printf("APAAR  : %s\n", students[i].apaar);
        printf("Email  : %s\n", students[i].email);
        printf("Phone  : %s\n", students[i].phone);
    }
}

void searchStudent() {
    char apaarSearch[20];
    printf("\nEnter APAAR ID to search: ");
    scanf(" %[^\n]", apaarSearch);

    for (int i = 0; i < count; i++) {
        if (strcmp(students[i].apaar, apaarSearch) == 0) {
            printf("\nRecord Found:\n");
            printf("Name   : %s\n", students[i].name);
            printf("Aadhar : %s\n", students[i].aadhar);
            printf("APAAR  : %s\n", students[i].apaar);
            printf("Email  : %s\n", students[i].email);
            printf("Phone  : %s\n", students[i].phone);
            return;
        }
    }
    printf("No student found with that APAAR ID.\n");
}

void updateStudent() {
    char apaarSearch[20];
    printf("\nEnter APAAR ID to update: ");
    scanf(" %[^\n]", apaarSearch);

    for (int i = 0; i < count; i++) {
        if (strcmp(students[i].apaar, apaarSearch) == 0) {
            printf("\nRecord Found. Enter new details:\n");

            printf("New Email: ");
            scanf(" %[^\n]", students[i].email);

            printf("New Phone: ");
            scanf(" %[^\n]", students[i].phone);

            printf("Updated successfully!\n");
            return;
        }
    }
    printf("No record found.\n");
}

void deleteStudent() {
    char apaarSearch[20];
    printf("\nEnter APAAR ID to delete: ");
    scanf(" %[^\n]", apaarSearch);

    for (int i = 0; i < count; i++) {
        if (strcmp(students[i].apaar, apaarSearch) == 0) {
            for (int j = i; j < count - 1; j++) {
                students[j] = students[j + 1];
            }
            count--;
            printf("Record deleted successfully!\n");
            return;
        }
    }
    printf("No student found.\n");
}

int main() {
    int choice;

    while (1) {
        printf("\n===== Student Management System =====");
        printf("\n1. Add Student");
        printf("\n2. Display Students");
        printf("\n3. Search by APAAR ID");
        printf("\n4. Update Email/Phone");
        printf("\n5. Delete Student");
        printf("\n6. Exit");
        printf("\nEnter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1: addStudent(); break;
            case 2: displayStudents(); break;
            case 3: searchStudent(); break;
            case 4: updateStudent(); break;
            case 5: deleteStudent(); break;
            case 6: return 0;
            default: printf("Invalid choice!\n");
        }
    }
}
